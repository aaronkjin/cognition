# Memory: FIND-0017 â€” Path Traversal in File Download Endpoint

## Metadata
- **Category**: path_traversal
- **Service**: catalog-service
- **Severity**: medium
- **Outcome**: SUCCESS
- **Confidence**: high
- **Data Source**: live
- **Run ID**: dff62097
- **Created**: 2026-02-24T03:40:21.640180+00:00

## Fix Approach
Add helper safePath(filename) that resolves path.resolve(UPLOAD_DIR, filename) and verifies the resolved path starts with UPLOAD_DIR (plus path.sep) or equals UPLOAD_DIR; return null and reject requests if validation fails. Applied to uploadFile, downloadFile, and deleteFile in src/controllers/fileController.ts. No new dependencies. Created PR referencing CWE-22.

## Files Modified
- `src/controllers/fileController.ts`

## Test Results
- **Tests Passed**: Yes
- **Tests Added**: 0

## PR
https://github.com/aaronkjin/coupang-catalog-service/pull/16

## Error
No errors.
